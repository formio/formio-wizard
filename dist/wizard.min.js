!function e(r,n,o){function t(i,s){if(!n[i]){if(!r[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var m=n[i]={exports:{}};r[i][0].call(m.exports,function(e){var n=r[i][1][e];return t(n?n:e)},m,m.exports,e,r,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)t(o[i]);return t}({1:[function(e,r,n){angular.module("formio.wizard",["formio"]).directive("formioWizard",function(){return{restrict:"E",replace:!0,templateUrl:"formio-wizard.html",scope:{src:"=",storage:"=",submission:"=?"},link:function(e,r){e.wizardLoaded=!1,e.wizardElement=angular.element(".formio-wizard",r)},controller:["$scope","$compile","$element","Formio","FormioScope","FormioUtils",function(e,r,n,o,t,a){var i=e.storage?localStorage.getItem(e.storage):!1;i&&(i=angular.fromJson(i)),e.formio=new o(e.src),e.page={},e.form={},e.pages=[],e.colclass="",e.submission&&Object.keys(e.submission.data).length||(e.submission=i?{data:i.data}:{data:{}}),e.currentPage=i?i.page:0,e.formioAlerts=[],this.showAlerts=e.showAlerts=function(r){e.formioAlerts=[].concat(r)},e.clear=function(){e.storage&&localStorage.setItem(e.storage,""),e.submission={data:{}},e.currentPage=0};var s=function(){e.currentPage>=e.form.components.length&&e.clear(),e.wizardLoaded=!1,e.storage&&localStorage.setItem(e.storage,angular.toJson({page:e.currentPage,data:e.submission.data})),e.page.components=e.form.components[e.currentPage].components;var n=angular.element(document.createElement("formio"));e.wizardElement.html(r(n.attr({src:"'"+e.src+"'",form:"page",submission:"submission",id:"formio-wizard-form"}))(e)),e.wizardLoaded=!0,e.formioAlerts=[],e.$emit("wizardPage",e.currentPage)};e.checkErrors=function(){return e.isValid()?!1:(angular.forEach(n.find('[name="formioFieldForm"]').children(),function(e){var r=angular.element(e).scope(),n=r.formioFieldForm;n[r.component.key]&&(n[r.component.key].$pristine=!1)}),e.formioAlerts.push({type:"danger",message:"Please fix the following errors before proceeding."}),!0)},e.submit=function(){if(!e.checkErrors()){var r=angular.copy(e.submission);a.eachComponent(e.form.components,function(e){r.data.hasOwnProperty(e.key)&&"number"===e.type&&(r.data[e.key]?r.data[e.key]=parseFloat(r.data[e.key]):r.data[e.key]=0)}),e.formio.saveSubmission(r).then(function(r){e.storage&&localStorage.setItem(e.storage,""),e.$emit("formSubmission",r)})["catch"](t.onError(e,n))}},e.cancel=function(){e.clear(),s()},e.next=function(){e.checkErrors()||e.currentPage>=e.form.components.length-1||(e.currentPage++,s(),e.$emit("wizardNext",e.currentPage))},e.prev=function(){e.currentPage<1||(e.currentPage--,s(),e.$emit("wizardPrev",e.currentPage))},e["goto"]=function(r){0>r||r>=e.form.components.length||(e.currentPage=r,s())},e.isValid=function(){var e=n.find("#formio-wizard-form");if(!e.length)return!1;var r=e.children().scope().formioForm;return r.$valid},e.$on("wizardGoToPage",function(r,n){e["goto"](n)}),e.formio.loadForm().then(function(r){e.pages=[],angular.forEach(r.components,function(r){"panel"===r.type&&e.pages.push(r)}),e.form=r,e.form.components=e.pages,e.page=angular.copy(r),e.pages.length>6?(e.margin=(1-.0833333333*e.pages.length)/2*100,e.colclass="col-sm-1"):(e.margin=(1-.1666666667*e.pages.length)/2*100,e.colclass="col-sm-2"),e.$emit("wizardFormLoad",r),s()})}]}}).run(["$templateCache",function(e){e.put("formio-wizard.html",'<div>\n    <div class="row bs-wizard" style="border-bottom:0;">\n        <div ng-class="{disabled: ($index > currentPage), active: ($index == currentPage), complete: ($index < currentPage)}" class="{{ colclass }} bs-wizard-step" ng-repeat="page in pages">\n            <div class="text-center bs-wizard-stepnum">{{ page.title }}</div>\n            <div class="progress"><div class="progress-bar"></div></div>\n            <a ng-click="goto($index)" class="bs-wizard-dot"></a>\n        </div>\n    </div>\n    <style type="text/css">.bs-wizard > .bs-wizard-step:first-child { margin-left: {{ margin }}%; }</style>\n    <i ng-show="!wizardLoaded" id="formio-loading" style="font-size: 2em;" class="glyphicon glyphicon-refresh glyphicon-spin"></i>\n    <div ng-repeat="alert in formioAlerts" class="alert alert-{{ alert.type }}" role="alert">{{ alert.message }}</div>\n    <div class="formio-wizard"></div>\n    <ul ng-show="wizardLoaded" class="list-inline">\n        <li><a class="btn btn-default" ng-click="cancel()">Cancel</a></li>\n        <li ng-if="currentPage > 0"><a class="btn btn-primary" ng-click="prev()">Previous</a></li>\n        <li ng-if="currentPage < (form.components.length - 1)">\n            <button class="btn btn-primary" ng-click="next()">Next</button>\n        </li>\n        <li ng-if="currentPage >= (form.components.length - 1)">\n            <button class="btn btn-primary" ng-click="submit()">Submit Form</button>\n        </li>\n    </ul>\n</div>')}])},{}]},{},[1]);